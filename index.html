<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Juego Plataforma</title>
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Jura:400,600">
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Black+Ops+One">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div id="info" class="screen">
		<img src="imgs/personajeF.png" class="p">
		<div class="datos">
			<h1>Plataformas en el espacio</h1>
			<button class="btn start" id="otro">Iniciar</button>
			<p>
				<h3>Instrucciones</h3>
				<p>Mover personaje con flechas</p>
				<p>Saltar flecha arriba</p>
			</p>
		</div>
	</div>
	<div id="win" class="screen">
		<img src="imgs/personajeF.png" class="p">
		<div class="datos">
			<h1>¡GANASTE!</h1>
			<button class="btn start" id="otro">Juega de nuevo</button>
			<p>
				<h3>Puntaje</h3>
				<p id="score"></p>
			</p>
		</div>
	</div>
	<div id="lose" class="screen">
		<img src="imgs/personajeF.png" class="p">
		<div class="datos">
			<h1>Perdiste</h1>
			<p>Pero puedes iniciar de nuevo</p>
			<button class="btn start" id="algo">Reintentar</button>
			<p>
				<h3>Instrucciones</h3>
				<p>Mover personaje con flechas</p>
				<p>Saltar flecha arriba</p>
			</p>
		</div>
	</div>
	

	<div id="game">
	</div>

	<!--Se pone antes porque una de las librerias debe de cargarse despues del div en donde estará el Canvas-->
	<script src="js/preloadjs-0.1.0.min.js"></script>
	<script src="http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v4.3.2.min.js"></script>
	<script src="js/Heroe.js"></script>
	<script src="js/Enemigo.js"></script>
	<script src="js/Plataforma.js"></script>
	<script src="js/Moneda.js"></script>
	<script src="js/llave.js"></script>
	<script src="js/Puerta.js"></script>
	<script src="js/Game.js"></script>
	<script src="js/main.js"></script>
	<script>
		var preloader;
		/*Arreglo con la dirección de las imágenes*/
		var imgsAssets = ["imgs/Heroe.png", "imgs/enemy.png", "imgs/moneda.png", "imgs/puerta.png", "imgs/llave.png", "imgs/fondo.jpg"];
		/*Agregar evento al objeto window*/
		window.addEventListener("load", function(){
			preloader = new PreloadJS();
			preloader.onProgress = progresoCarga;
			cargar();
			var iniciadores = document.getElementsByClassName("start");
			for( i in iniciadores){
				var boton = iniciadores[i];
				boton.addEventListener("click", iniciarJuego);
			}
		});
		function cargar(){
			while(imgsAssets.length > 0){
				/*shift() remueve el ultimo elemento y lo devuelve*/
				var url = imgsAssets.shift();
				preloader.loadFile(url);
			}
		}
		function progresoCarga(){
			if (preloader.progress == 1) {
				//nivelUno();
				document.querySelector("#info").style.display = "block";
			}
		}
		function iniciarJuego(){
			document.querySelector("#info").style.display = "none";
			document.querySelector("#lose").style.display = "none";
			document.querySelector("#win").style.display = "none";
			nivelUno();
		}
	</script>
</body>
</html>